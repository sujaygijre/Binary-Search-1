// Time Complexity : O(logn)
// Space Complexity : O(1)
// Did this code successfully run on Leetcode :
// Any problem you faced while coding this :

class Solution {
public:
    int search(vector<int>& nums, int target) {
        int left = 0 ;
        int right = nums.size()-1;

        while (left <= right) 
        {
            int mid = left + (right - left)/2;

            if (nums[mid] == target) 
            {
                return mid;
            }
            else if (nums[left] <= nums[mid]) 
            { // first half of the array is sorted
                if (target >= nums[left] && target < nums[mid])
                {
                    right = mid-1;
                }
                else
                {
                    left = mid +1;
                }
            }
            else
            {
                if (target > nums[mid] && target <= nums[right])
                {
                    left = mid+1;
                }
                else
                {
                    right = mid - 1;
                }
            }
        }
        return -1;
    }
};

// Your code here along with comments explaining your approach in three sentences only
1. we can have 3 var left, right and mid;
2. mid = left + (right -left)/2 since a simple average can exceed the int limit of 2^32
3. check if array left - mid is sorted
  3.1 - if target is between left and mid then right = mid -1 else left = mid +1
4. else the left - mid is not sorted
  4.1 check if target is between mid and right then left = mid +1 else the right = mid -1;
5. return -1;
